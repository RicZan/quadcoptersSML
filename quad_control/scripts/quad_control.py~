#!/usr/bin/env python
# this line is just used to define the type of document

## Simple talker demo that published std_msgs/Strings messages
## to the 'chatter' topic

import rospy
from std_msgs.msg import String

from beginner_tutorials.msg import quad_state_and_cmd

def quad_control():

    # message published by quad_control 
    pub = rospy.Publisher('quad_state_and_cmd', quad_state_and_cmd, queue_size=10)
    
    rospy.init_node('quad_control', anonymous=True)

    rate = rospy.Rate(10) # 10hz
    
    while not rospy.is_shutdown():
        hello_str = "hello world %s" % rospy.get_time()
        rospy.loginfo(hello_str)
	
	# create a message of type quad_state_and_cmd
	st_cmd = quad_state_and_cmd()
	st_cmd.x = 1.0
        
	pub.publish(st_cmd)
        rate.sleep()


if __name__ == '__main__':
    try:
        quad_control()
    except rospy.ROSInterruptException:
        pass
